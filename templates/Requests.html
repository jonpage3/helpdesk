<!doctype html>

<body>
<h1>Requests</h1>
  <!---templated query link to filter by a search term--->
  <form class="search" action="/Requests" method="get">
    <input name="q" type="text">
    <input type="submit" value="search for a request">
  </form>
  <table class="collection">
    <thead>
      <tr>
        <th>Username</th>
        <th>Request ID</th>
        <th>Item Title</th>
        <th>OCLC #</th>
        <th>Date Created</th>
        <th>Item Location</th>
        <th>Pickup Location</th>
        <th>Request Status</th>
      </tr>
    </thead>
    <tbody>

      {% for request_id,request in requests %}
      <tr class="request">
        <td class="username">{{ request.username }}</td>
        <td class="id" >
          <!---outbound link to individual request---->
          <a rel="item" href=/request2793>2793</a>
        </td>
        <td class="title">{{ request.title }}</td>
        <td class="oclc">{{ request.oclc }}</td>
        <td class="date">{{ request.time }}</td>
        <td class="item_home">{{ request.location }}</td>
        <td class="pickup">{{ request.pickup }}</td>
        <td class="status">{{ request.status }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <!---non-idempotent update link for creating a new item request---->
  <form class="request-update" action="/Requests.html" method="post">
    <label>Title</label>:
      <input name="title" type="text"/>
    <br>
    <label>Pickup Location</label>:
      <input name="pickup" type="text"/>
    <br>
    <label>OCLC #</label>:
      <input name="oclc" type="text"/>
    <br>
    <input class="create" type="submit" value="Submit" value="Submit new request">
    <br>
  </form>
</body>